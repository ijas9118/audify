<div
  class="container my-5 col-lg-6 col-md-10 col-sm-12"
  style="min-height: 50vh"
>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Home</a></li>
      <li class="breadcrumb-item"><a href="/account">My Account</a></li>
      <li class="breadcrumb-item active" aria-current="page">
        Order History
      </li>
    </ol>
  </nav>
  <h2 class="mb-4">Order History</h2>

  <% if (orders.length === 0) { %>
  <div class="alert alert-info text-center" role="alert">No orders found.</div>
  <% } else { %>
  <div class="accordion" id="orderAccordion">
    <% orders.forEach((order, index) => { %>
    <div class="accordion-item mb-3">
      <h2 class="accordion-header" id="heading<%= index %>">
        <button
          class="accordion-button collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapse<%= index %>"
          aria-expanded="false"
          aria-controls="collapse<%= index %>"
        >
          Order ID: <%= order._id %>
          <span class="badge bg-primary ms-3"><%= order.status %></span>
        </button>
      </h2>
      <div
        id="collapse<%= index %>"
        class="accordion-collapse collapse"
        aria-labelledby="heading<%= index %>"
        data-bs-parent="#orderAccordion"
      >
        <div class="accordion-body">
          <div class="mb-3">
            <strong>Address:</strong> <%= order.address.location %>, <%=
            order.address.city %>, <%= order.address.state %>, <%=
            order.address.country %> - <%= order.address.zip %>
          </div>
          <div class="mb-3">
            <strong>Payment Method:</strong> <%= order.paymentMethod %>
          </div>
          <div class="mb-3">
            <strong>Order Date:</strong> <%= order.dateOrdered.toDateString() %>
          </div>
          <h6 class="mt-3 mb-2">Items:</h6>
          <ul class="list-group">
            <% order.orderItems.forEach(item => { %>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><%= item.product.name %> (x<%= item.quantity %>)</span>
              <span>₹<%= item.product.price %></span>
            </li>
            <% }); %>
          </ul>
          <div class="d-flex justify-content-between mt-3">
            <strong>Total Amount:</strong> ₹<%= order.totalAmount %>
            <strong>Shipping Charge:</strong> ₹<%= order.shippingCharge %>
          </div>
        </div>
      </div>
    </div>
    <% }); %>
  </div>
  <% } %>
</div>
